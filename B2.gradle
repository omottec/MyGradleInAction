/**
 * Gradle task written with Groovy syntax
 */

task appendFilenames << {
    def inputDirectory = new File('src')
    def outputFile = new File(buildDir, 'allfiles.txt')
    def outputDirectory = outputFile.parentFile

    if (!outputDirectory.exists())
        outputDirectory.mkdirs()
    outputFile.createNewFile()
    inputDirectory.eachFile {
        outputFile << "$it.name\n"
    }

}